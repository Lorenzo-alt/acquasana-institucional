"use client";
import { motion } from "framer-motion";
import { useRouter } from "next/navigation";
import React from "react";
import { UseFormReset } from "react-hook-form";
import { twMerge } from "tailwind-merge";

type typeProps = {
  style?: string;
  classType?: boolean;
  type?: number;
  text?: string;
  disabled?: boolean;
};

export default function WhatsButton(props: typeProps) {
  const router = useRouter();

  const event = () => {
    if (!props.type) {
      router.push("/conversao");
      window.open("https://wa.me/5554991290422?text=Ol%C3%A1%2C+Gostaria+de+realizar+um+or%C3%A7amento%21", "_blank");
    }
  };

  return (
    <motion.button
      type={props.type ? "submit" : "button"}
      whileHover={!props.disabled ? { scale: 1.1 } : undefined}
      transition={{ duration: 0.2 }}
      onClick={event}
      disabled={props.disabled}
      className={twMerge(
        "sm:w-97 mr-20 cursor-pointer bg-verde-destaque enabled:hover:bg-verde-hover disabled:bg-cinza-3-80 border rounded-lg border-transparent flex items-center justify-center p-3",
        props.style
      )}
    >
      {props.disabled ? (
        <>
          <div className="animate-pulse flex items-center">
            <div className="bg-azul-escuro rounded-full p-1 h-max mx-0.5" />
            <div className="bg-azul-escuro rounded-full p-1 h-max mx-0.5" />
            <div className="bg-azul-escuro rounded-full p-1 h-max mx-0.5" />
            <div className="ml-2 text-xl text-center sm:text-2xl font-bold text-primary">Loading</div>
          </div>
        </>
      ) : (
        <>
          <div className={props.type ? "hidden" : ""}>
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28" fill="none" className="w-9 h-9 sm:w-min sm:h-min">
              <path
                d="M14.0578 0C8.7744 0 4.16867 2.94145 1.80444 7.26592L1.80314 7.26845C1.26647 8.25058 0.844726 9.30368 0.55769 10.4101V10.4127C0.500469 10.6334 0.447462 10.856 0.401058 11.0808V11.0833C0.354705 11.3081 0.314067 11.5356 0.278803 11.7641V11.7667C0.243588 11.9953 0.2135 12.2256 0.18967 12.4576V12.4602C0.165766 12.6923 0.147013 12.926 0.134913 13.1613V13.1638C0.122838 13.3991 0.117169 13.6356 0.117169 13.8738V13.8764C0.1171 14.1812 0.126779 14.4854 0.146469 14.788V14.7905C0.16643 15.093 0.196175 15.3938 0.235604 15.6932V15.6957C0.275083 15.9951 0.324516 16.2929 0.383314 16.5883C0.67816 18.0701 1.21515 19.4973 1.9777 20.8127L0 28L7.38997 26.0728C9.42625 27.1783 11.7184 27.7606 14.0515 27.7615H14.0579C19.3413 27.7615 23.9485 24.8184 26.3125 20.4918C26.4195 20.2961 26.5217 20.0985 26.6194 19.8972L26.6207 19.8947C26.6298 19.876 26.6372 19.8564 26.6462 19.8376C26.8315 19.451 27.0011 19.0548 27.1505 18.6497C27.1754 18.5819 27.1966 18.5125 27.2205 18.4443C27.2716 18.2987 27.3232 18.1534 27.3695 18.0056C27.4373 17.7893 27.5007 17.5708 27.558 17.3501V17.3476C27.6152 17.1269 27.6682 16.9042 27.7146 16.6795V16.6769C27.761 16.4522 27.8016 16.2259 27.8369 15.9974V15.9949C27.8721 15.7663 27.9021 15.5359 27.926 15.3039V15.3014C27.9499 15.0693 27.9686 14.8355 27.9808 14.6003V14.5977C27.9929 14.3616 27.9995 14.1243 28 13.8852C28.0001 13.6543 27.9933 13.4245 27.9823 13.1955V13.193C27.9712 12.964 27.9548 12.7352 27.9326 12.5084V12.5058C27.9104 12.279 27.8817 12.0544 27.8485 11.8301V11.8276C27.8153 11.6033 27.7766 11.3796 27.7326 11.1581V11.1556C27.6886 10.9341 27.6383 10.7147 27.5836 10.4963V10.4938C27.5289 10.2755 27.4681 10.0583 27.4028 9.84342V9.84089C26.7469 7.68402 25.5645 5.7076 23.9196 4.06851C21.2874 1.44587 17.7868 0.00159945 14.0578 0ZM14.0617 2.34548C17.1568 2.34671 20.0659 3.54853 22.254 5.72805C23.6213 7.09035 24.605 8.73277 25.1498 10.5255C25.2585 10.8833 25.3503 11.2471 25.4236 11.6158V11.6184C25.4968 11.9871 25.5522 12.3603 25.5892 12.7379V12.7404C25.6261 13.118 25.6453 13.4996 25.6452 13.884V13.8866C25.6449 14.2831 25.6237 14.6742 25.5841 15.0606V15.0644C25.5443 15.4503 25.4855 15.8317 25.4084 16.2054V16.208C25.2535 16.9571 25.0256 17.6795 24.7322 18.3684C24.727 18.3809 24.7198 18.3926 24.7144 18.4051C22.9431 22.5227 18.8334 25.4162 14.058 25.4162H14.0541C11.9744 25.4153 9.93524 24.8595 8.15655 23.8086L7.73249 23.5589L3.34793 24.7037L4.51825 20.4501V20.4475L4.24191 20.0114C3.66232 19.0941 3.21928 18.1054 2.92132 17.0739V17.0713C2.77257 16.5559 2.65926 16.0299 2.58385 15.4967V15.4942C2.54632 15.2284 2.51746 14.9605 2.49854 14.6916V14.6878C2.47981 14.4189 2.47052 14.1487 2.47052 13.8777V13.8738C2.4708 13.4769 2.49048 13.084 2.53037 12.6973C2.57005 12.3109 2.6302 11.9304 2.70739 11.5562V11.5537C2.78464 11.1795 2.8811 10.8121 2.99392 10.452C4.46459 5.76087 8.86873 2.34548 14.0617 2.34548ZM9.12183 7.46877C8.88947 7.46877 8.51258 7.55533 8.19347 7.90237C7.87408 8.24942 6.97476 9.08813 6.97476 10.7943C6.97476 12.5006 8.22203 14.1494 8.39595 14.381C8.57018 14.6122 10.8066 18.2259 14.3469 19.6158C17.2894 20.771 17.8877 20.5409 18.5264 20.483C19.1651 20.4253 20.5871 19.6447 20.8772 18.8349C21.1676 18.0252 21.168 17.3304 21.081 17.1854C20.9939 17.0409 20.762 16.9543 20.4137 16.781C20.0652 16.6075 18.3528 15.7683 18.0336 15.6526C17.7142 15.537 17.4815 15.4804 17.2491 15.8276C17.0169 16.1743 16.3496 16.9541 16.1463 17.1854C15.9431 17.4171 15.7407 17.4463 15.3924 17.2729C15.0439 17.0989 13.9216 16.7337 12.5908 15.5524C11.5552 14.6333 10.8558 13.4971 10.6525 13.1499C10.4494 12.8031 10.6306 12.6154 10.8053 12.4425C10.9619 12.2871 11.1545 12.0376 11.3287 11.8352C11.5026 11.6326 11.5603 11.4884 11.6764 11.257C11.7926 11.0256 11.7341 10.8232 11.6471 10.6498C11.5599 10.4763 10.8833 8.76182 10.5736 8.07606C10.3126 7.49853 10.0386 7.48654 9.7904 7.47638C9.58725 7.46779 9.3539 7.46877 9.12183 7.46877Z"
                fill="#09222F"
              />
            </svg>
          </div>
          <p className={twMerge("text-xl text-center sm:text-2xl font-bold text-primary", props.type ? "" : "ml-3")}>
            {props.text ? props.text : "Conversar com especialista"}
          </p>
        </>
      )}
    </motion.button>
  );
}
